<link rel='stylesheet' href='/static/assets/css/style.css' />

<div class='box-codingdata'></div>

<main class='container myform-section-wrapper my-4 mt-5'>
  <div class='row justify-content-between align-items-center mb-10'>
    <!-- Page Heading Start -->
    <div class='col-12 col-lg-auto mb-20' style='margin:20px 0;'>
      <div class='page-heading page-heading-custom'>
        <h3 class='title'>{{title}} <span>/ {{subTitle}} </span></h3>
      </div>
    </div><!-- Page Heading End -->
  </div>

  <div class='row login-form'>
    <div class='col-12 col-sm-12 col-md-12'>
      <form method='POST' name='frmPerson' action='./store' class='row g-3 needs-validation' data-frmValidation novalidate>
        {{#if hasError}}
          <div class='alert alert-danger'>
            {{#each errors}}
              <small class='errMessage'>
                {{this}}
              </small>
            {{/each}}
          </div>
        {{/if}}
        {{#if removeSuccess}}
          <div class='col-12 w-100 d-flex justify-content-center mt-1 mb-1'>
            <p class='alert alert-danger w-50 text-center'>
              {{removeSuccess}}
            </p>
          </div>
        {{/if}}

        <div class='form-floating mb-3'>
          <input type='text' class='form-control' id='firstName' name='firstName' maxlength='50' minlength='2' autocomplete='off' placeholder=' ' autofocus='true' required />
          <label for='firstName' class='mandatory'>
            نام
          </label>
        </div>

        <div class='form-floating mb-3'>
          <input type='text' class='form-control' id='lastName' name='lastName' maxlength='50' minlength='2' autocomplete='off' placeholder='نام‌خانوادگی را وارد کنید.' required />
          <label for='lastName' class='mandatory'>
            نام‌خانوادگی
          </label>
        </div>

        <div class='form-floating mb-3'>
          <input type='text' class='form-control' id='nationalCode' name='nationalCode' maxlength='10' minlength='10' placeholder=' کدملی را وارد کنید.' autocomplete='off' required />
          <label for='nationalCode' class='mandatory'>
            کد ملی
          </label>
        </div>

        <div class='form-floating mb-3'>
          <select class='form-select' id='profilePicture' name='profilePicture' >
            <option value=''>انتخاب تصویر پروفایل</option>
            <option value='man1.jpg'>تصویر پروفایل 1</option>
            <option value='man2.jpg'>تصویر پروفایل 2</option>
            <option value='man3.jpg'>تصویر پروفایل 3</option>
            <option value='man4.jpg'>تصویر پروفایل 4</option>
            <option value='man5.jpg'>تصویر پروفایل 5</option>
            <option value='woman1.jpg'>تصویر پروفایل 6</option>
            <option value='woman2.jpg'>تصویر پروفایل 7</option>
            <option value='woman3.jpg'>تصویر پروفایل 8</option>
            <option value='woman4.jpg'>تصویر پروفایل 9</option>
          </select>
          <label for='profilePicture'>عکس پروفایل</label>
        </div>

        <div class='mb-3 text-center'>
          <img id='profilePreview' src='' alt='پیش‌نمایش تصویر پروفایل' style='max-width: 150px; display: none;' class='rounded-circle border p-1' />
        </div>

        <div class='form-floating mb-3'>
          <input type='text' class='form-control' id='mobile' name='mobile' maxlength='11' minlength='11' autocomplete='off' placeholder=' شماره موبایل را وارد کنید.' />
          <label for='mobile' class='mandatory'>
            شماره موبایل
          </label>
        </div>

        <div class='form-floating mb-3'>
          <input type='text' class='form-control' id='description' name='Description' maxlength='255' autocomplete='off' placeholder='توضیحات.' />
          <label for='Description'>
            توضیحات
          </label>
        </div>

        <div class='col-12 my-2 text-center'>
          <button class='btn btn-success custom-btn' type='submit' id='btnSubmit'>
            ثبت
          </button>
          <a class='btn btn-secondary custom-btn' type='reset' id='btnCancel' href='./index'>
            انصراف
          </a>
        </div>
      </form>
    </div>
  </div>
</main>
<script src='/static/assets/js/formValidation.js'></script>
<script>
  document.getElementById('profilePicture').addEventListener('change', function() { const preview = document.getElementById('profilePreview'); const selectedValue = this.value; if (selectedValue) { preview.src = `/static/assets/images/avatars/${selectedValue}`; preview.style.display = 'inline-block'; } else { preview.style.display = 'none'; } });
</script>